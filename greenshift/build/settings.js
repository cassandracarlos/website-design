!function(){"use strict";var e=window.wp.element,t=window.wp.components,n=window.lodash;const{__:__}=wp.i18n,{useState:a,useEffect:o}=wp.element;var l=()=>{var l;const[r,i]=a({progressbar:!1,backtotop:!1,nightmode:!1,disableCheckout:!1,disableCart:!1,primary_font:"",secondary_font:"",tertiary_font:""}),[s,c]=a(!0),[f,m]=a(!1);let h="undefined"!=typeof greenShift_params?null===(l=greenShift_params)||void 0===l?void 0:l.localfont:null,g=[],p="";if(void 0!==h&&h&&h.length>0){let e=JSON.parse(h);g=Object.keys(e).map((e=>({value:e,label:e})));for(let t in e)p+="@font-face {",p+=`font-family: "${t}";`,p+="src: ",e[t].woff2&&(p+=`url(${e[t].woff2}) format("woff2"), `),e[t].woff&&(p+=`url(${e[t].woff}) format("woff"), `),e[t].tiff&&(p+=`url(${e[t].tiff}) format("tiff"), `),e[t].ttf&&(p+=`url(${e[t].ttf}) format("ttf"), `),p+=";font-display: swap;}";p=p.replace(", ;",";")}g.unshift({value:"variable",label:"Variable"}),g.unshift({value:"",label:"System"}),o((()=>{y()}),[s]),o((()=>{let e=u(r);d(e)}),[r]);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"gstheme-global-styles",n=document.querySelector('[name="editor-canvas"]'),a=null!=n?n.contentDocument:document;if(null===a.getElementById(t)){let n=document.createElement("style");n.id=t,n.styleSheet?n.styleSheet.cssText=e:n.innerHTML=e,a.getElementsByTagName("head")[0].appendChild(n)}else a.getElementById(t).innerHTML=e},u=e=>{let t="",n=e.primary_font,a=e.secondary_font,o=e.tertiary_font;return"variable"!=n&&"variable"!=a&&"variable"!=o||(t+='@font-face{font-family:"Mona Sans";src:url('+greenShift_theme_params.themedir+'/assets/fonts/Mona/MonaSans.woff2) format("woff2 supports variations"),url('+greenShift_theme_params.themedir+'/assets/fonts/Mona/MonaSans.woff2) format("woff2-variations");font-weight:200 900;font-stretch:75% 125%}'),"variable"==n&&(n="Mona Sans"),"variable"==a&&(a="Mona Sans"),"variable"==o&&(o="Mona Sans"),(n||a||o)&&(t+=`.editor-styles-wrapper{${n?"--greenshift-primary-fontfamily:"+n+";":""}${a?"--greenshift-secondary-fontfamily:"+a+";":""}${o?"--greenshift-tertiary-fontfamily:"+o+";":""}}`),t},y=async()=>{await wp.apiFetch({path:"greenshifttheme/v1/global_settings",method:"GET"}).then((e=>{const{success:t,settings:n}=e;if(t){n&&i(n);let e=u(r);d(e),m(!1)}}))},b=async()=>{m(!0),await wp.apiFetch({path:"greenshifttheme/v1/global_settings",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{settings:r}}).then((e=>{const{success:t}=JSON.parse(e);t&&c(!s)}))};return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.PanelBody,{title:__("Global Typography","greenshift"),initialOpen:!0},(0,e.createElement)(t.BaseControl,{help:__("You can upload local fonts in Greenshift settings","greenshift")},(0,e.createElement)(t.SelectControl,{label:__("Primary Font family","greenshift"),value:r.primary_font,options:g,onChange:e=>{let t=(0,n.cloneDeep)(r);t.primary_font=e,i(t)}})),(0,e.createElement)("div",{style:{marginBottom:15}}),(0,e.createElement)(t.BaseControl,null,(0,e.createElement)(t.SelectControl,{label:__("Secondary Font family","greenshift"),help:"",value:r.secondary_font,options:g,onChange:e=>{let t=(0,n.cloneDeep)(r);t.secondary_font=e,i(t)}})),(0,e.createElement)("div",{style:{marginBottom:15}}),(0,e.createElement)(t.SelectControl,{label:__("Tertiary Font family","greenshift"),value:r.tertiary_font,options:g,onChange:e=>{let t=(0,n.cloneDeep)(r);t.tertiary_font=e,i(t)}}),(0,e.createElement)("div",{style:{marginBottom:15}}),(0,e.createElement)(t.Button,{isBusy:f,isSecondary:!0,onClick:()=>b()},__("Save changes to database","greenshift"))),(0,e.createElement)(t.PanelBody,{title:__("Dynamic Options","greenshift"),initialOpen:!0},(0,e.createElement)(t.ToggleControl,{label:__("Enable NightMode Class","greenshift"),checked:r.nightmode,onChange:e=>{let t=(0,n.cloneDeep)(r);t.nightmode=e,i(t)}}),(0,e.createElement)("span",{style:{marginTop:-10,marginBottom:20,display:"block"}},(0,e.createElement)("a",{href:"https://greenshiftwp.com/how-to-add-night-mode-in-blockpress-theme-with-button-and-cookie-option/",target:"_blank"}," Documentation ")),(0,e.createElement)(t.ToggleControl,{label:__("Enable Progress bar on posts","greenshift"),checked:r.progressbar,onChange:e=>{let t=(0,n.cloneDeep)(r);t.progressbar=e,i(t)}}),(0,e.createElement)(t.ToggleControl,{label:__("Enable Back to Top button","greenshift"),checked:r.backtotop,onChange:e=>{let t=(0,n.cloneDeep)(r);t.backtotop=e,i(t)}}),(0,e.createElement)(t.Button,{isBusy:f,isSecondary:!0,onClick:()=>b()},__("Save changes to database","greenshift"))),(0,e.createElement)(t.PanelBody,{title:__("Woocommerce Options","greenshift"),initialOpen:!0},(0,e.createElement)(t.ToggleControl,{label:__("Disable Checkout Customization","greenshift"),checked:r.disableCheckout,onChange:e=>{let t=(0,n.cloneDeep)(r);t.disableCheckout=e,i(t)}}),(0,e.createElement)(t.ToggleControl,{label:__("Disable Cart Customization","greenshift"),checked:r.disableCart,onChange:e=>{let t=(0,n.cloneDeep)(r);t.disableCart=e,i(t)}}),(0,e.createElement)(t.Button,{isBusy:f,isSecondary:!0,onClick:()=>b()},__("Save changes to database","greenshift"))))};const{registerPlugin:r}=wp.plugins,{__:i}=wp.i18n,{PluginSidebarMoreMenuItem:s,PluginSidebar:c}=wp.editSite;r("greenshifttheme-customsidebarsite",{render:()=>(0,e.createElement)("div",{class:"greenshifttheme_sidebar"},(0,e.createElement)(c,{name:"greenshifttheme-custom-settings",title:i("Greenshift Theme settings","greenshift"),className:"greenshifttheme_sidebar gspb_inspector"},(0,e.createElement)(l,null)),(0,e.createElement)(s,{target:"greenshifttheme-custom-settings gspb_inspector"},i("Theme settings","greenshift"))),icon:"admin-generic"})}();